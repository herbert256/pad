<p>The <code>code</code> tag creates an execution scope.</p>

<h2>Basic Code Block</h2>
<pre>{open}code{close}
  {open}set $x = 10{close}
  Inside: {open}$x{close}
{open}/code{close}
Outside: {open}$x{close}</pre>
{set $x = 0}
{code}
  {set $x = 10}
  <p>Inside code block: x = {$x}</p>
{/code}
<p>Outside code block: x = {$x}</p>

<h2>Sandbox Scope (Isolated)</h2>
<pre>{open}set $y = 5{close}
{open}code sandbox{close}
  {open}set $y = 100{close}
  Inside sandbox: {open}$y{close}
{open}/code{close}
Outside sandbox: {open}$y{close}</pre>
{set $y = 5}
{code sandbox}
  {set $y = 100}
  <p>Inside sandbox: y = {$y}</p>
{/code}
<p>Outside sandbox: y = {$y} (unchanged)</p>

<h2>Clean Scope</h2>
<pre>{open}code clean{close}
  Fresh scope - parent variables not inherited
{open}/code{close}</pre>
{code clean}
  <p>Clean scope block</p>
{/code}

<h2>Nested Code Blocks</h2>
{set $level = 0}
<pre>{open}set $level = 0{close}
{open}code{close}
  {open}set $level = 1{close}
  {open}code{close}
    {open}set $level = 2{close}
  {open}/code{close}
{open}/code{close}</pre>
{code}
  {set $level = 1}
  <p>Level 1: {$level}</p>
  {code}
    {set $level = 2}
    <p>Level 2: {$level}</p>
  {/code}
  <p>Back to Level 1: {$level}</p>
{/code}
