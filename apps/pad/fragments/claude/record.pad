<p>The <code>record</code> tag executes a custom SQL query.</p>

<h2>Syntax</h2>
<pre>{open}record 'SQL query'{close}
  {open}$fieldname{close}
{open}/record{close}</pre>

<h2>Basic Query</h2>
<pre>{open}record 'SELECT * FROM users WHERE active=1'{close}
  &lt;li&gt;{open}$name{close}&lt;/li&gt;
{open}/record{close}</pre>
<p>Executes the SQL and iterates over results.</p>

<h2>Join Query</h2>
<pre>{open}record 'SELECT u.name, o.total FROM users u JOIN orders o ON u.id=o.user_id'{close}
  {open}$name{close}: ${open}$total{close}
{open}/record{close}</pre>
<p>Execute join queries to combine data from multiple tables.</p>

<h2>Aggregate Query</h2>
<pre>{open}record 'SELECT COUNT(*) as count, SUM(total) as sum FROM orders'{close}
  Orders: {open}$count{close}, Total: ${open}$sum{close}
{open}/record{close}</pre>
<p>Execute aggregate functions like COUNT, SUM, AVG.</p>

<h2>With Variables</h2>
<pre>{open}record 'SELECT * FROM orders WHERE user_id=$userId'{close}
  Order #{open}$id{close}: ${open}$total{close}
{open}/record{close}</pre>
<p>Use PAD variables in SQL queries.</p>

<h2>Example: Complex Report</h2>
<pre>{open}record 'SELECT
    p.name as product,
    SUM(oi.quantity) as sold,
    SUM(oi.quantity * oi.price) as revenue
  FROM order_items oi
  JOIN products p ON oi.product_id = p.id
  GROUP BY p.id
  ORDER BY revenue DESC
  LIMIT 10'{close}
  &lt;tr&gt;
    &lt;td&gt;{open}$product{close}&lt;/td&gt;
    &lt;td&gt;{open}$sold{close}&lt;/td&gt;
    &lt;td&gt;${open}$revenue{close}&lt;/td&gt;
  &lt;/tr&gt;
{open}/record{close}</pre>

<h2>Comparison: field vs array vs record</h2>
<table>
  <tr><th>Tag</th><th>Returns</th><th>Use Case</th></tr>
  <tr><td>field</td><td>Single value</td><td>Lookup one field</td></tr>
  <tr><td>array</td><td>Table rows</td><td>Simple table queries</td></tr>
  <tr><td>record</td><td>Query results</td><td>Custom SQL, joins, aggregates</td></tr>
</table>

<h2>Security Note</h2>
<p style="color:orange">Be careful with SQL injection when using variables in queries. PAD handles basic escaping, but always validate user input.</p>

<h2>Note</h2>
<p>Database queries require a configured database connection. This demo page does not execute live queries.</p>
